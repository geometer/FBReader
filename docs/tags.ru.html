<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=koi8-r"/>
</head>
<body>
<h2><center>Категории (тэги) книг в FBReader.</center></h2>

<h3>Что такое категория книги.</h3>
<p>Начиная с версии 0.8.16, FBReader позволяет распределять книги по категориям. Это сделано для того, чтобы библиотека могла быть организована более удобным для пользователя образом.</p>
<p>Категория задается обычной строкой, набор строк не фиксирован, то есть пользователь в любой момент может добавить новую категорию. Каждая книга может принадлежать к одной или нескольким категориям. Эти категории перечислены в диалоге информации о книге в виде списка.</p>
<p>Пример: если в диалоге информации указан список &laquo;Science Fiction, Fantasy, New&raquo;, это значит, что книга относится 3 категориям -- &laquo;Science Fiction&raquo;, &laquo;Fantasy&raquo; и &laquo;New&raquo;.</p>
<p>Название категории не может содержать запятую.</p>
<p>Пробелы и символы табуляции в начале и конце названия категории игнорируются.</p>

<h3>Многоуровневые категории.</h3>
<p>Если в названии категории встречается знак &laquo;/&raquo;, то название этой категории воспринимается ка многоуровневое. Например, если в списке указано название категории &laquo;Fiction/SF &amp; Fantasy/Fantasy&raquo;, то книга отностся к подкатегории &laquo;Fantasy&raquo; в подкатегории &laquo;SF &amp; Fantasy&raquo; в категории верхнего уровня &laquo;Fiction&raquo;.</p>
<p>Название категории не может содержать символ &laquo;/&raquo;.</p>

<h3>Внешний вид дерева книг.</h3>
<p>В библиотеке FBReader'а список книг показывается в виде дерева. Первые уровни этого дерева представляют собой названия категорий (одно или несколько, в зависимости от того, одно- или многоуровневые категории использованы для книги), далее следует имя автора книги, затем название серии (если книга принадлежит к серии), и, наконец, название книги.</p>
<p>Если книга принадлежит к нескольким категориям, она присутствует в дереве несколько раз.</p>
<p>Если книга не принадлежит ни к одной из категорий, она показывается в дереве в специальной ветке &laquo;Books with no Tags&raquo;.</p>
<p>Кроме этого, все книги перечислены в ветке &laquo;All Books&raquo;.</p>

<h3>Возможности настройки дерева книг.</h3>
<p>Если вам не нравится дерево книг с разделением на категории, вы можете вернуться к традиционному виду, выключив опцию &laquo;Sort Books by Tags&raquo; в табе &laquo;Library&raquo; диалога настроек.</p>
<p>В том же табе вы можете немного изменить внешний вид дерева, отключив ветку &laquo;All Books&raquo;.</p>

<h3>Выделение книги в дереве.</h3>
<p>Когда вы открываете библиотеку FBReader'а, книга, которую вы перед этим читали, выделена в дереве. При этом выделены все вхождения книги в дерево, однако показано только последнее из них. Если вы хотите увидеть другие места, где книга встречается в дереве, воспользуйтесь кнопками &laquo;Find Next/Previous&raquo;.</p>

<h3>Откуда берутся категории книги.</h3>
<p>Категории для книг может задавать сам пользователь. Как это делается, описано в следующем пункте. Кроме этого, в некоторых форматах электронных книг есть возможность для указания списка категорий. Текущая версия FBReader понимает список категорий (жанров) форматов <code>fb2</code>, <code>Mobipocket</code> и <code>oeb/epub</code>.</p>

<h3>Как изменить набор категорий конкретной книги.</h3>
<p>Вы можете в любой момент изменить список категорий книги. Для этого вызовите диалог информации о книге и в табе &laquo;Tags&raquo; отредактируйте список. Названия категорий изменятся только для книги, информацию о которой вы меняли. Если при этом вы введете не существовавшее ранее название категории, оно автоматически появится в дереве. Если вы удалите название категории, к которой относилась только одна книга, эта категория автоматически исчезнет из дерева.</p>

<h3>Как редактировать и клонировать категории.</h3>
<p>Если вы хотите изменить что-нибудь не для отдельной книги, а для категории, в которую входит несколько книг, вам нужно вызвать диалог редактирования категории. Для этого нажмите на рисунок, изображающий лампочку, справа от названия категории в дереве.</p>
<p>В открывшемся диалоге вы можете:<ul>
<li>Редактировать название категории.</li>
<p>Обратите внимание, что в названии категории нельзя использовать запятую -- такое название просто не сохранится.</p>
<p>Если вы укажете пустое имя категории, оно тоже не будет сохранено.</p>
<p>Если вы используете в названии символ '/', он будет воспринят как разделитель названия многоуровневой категории.</p>
<p>Пробелы и символы табуляции в начале и конце названия категории будут удалены.</p>
<p>Вы можете указать в качестве нового название другой уже существующей категории. Это не ошибка, переименование произойдет как обычно. При этом соответствующие ветви дерева сольются друг с другом. Поскольку эта операция представляется полезной, для ее упрощения у вас есть возможность не набирать название существующей категории вручную, а выбрать ее из списка.</p> 
<p>Если у категории, название которой вы редактируете, есть подкатегории, в диалоге есть возможность указать, что изменения должны коснуться и их тоже. Для этого поставьте галочку напротив опции &laquo;With Subtags&raquo;</p>
<li>Клонировать категорию.</li>
<p>Поставьте флажок &laquo;Create clone&raquo; и введите имя для новой категории. Если имя новой категории совпадет с именем уже существующей категории, новая категория создана не будет, но все книги добавятся в указанную категорию.</p>
<p>Эту операцию, в отличие от редактирования названия, можно применить и к категориям &laquo;All Books&raquo; и &laquo;Books with no Tags&raquo;.</p>
</ul>
</p>

<h3>Как удалять категории.</h3>
<p>Если вы хотите удалить категорию, нажмите на знак минус справа от названия категории в дереве. После дополнительного вопроса, категория будет удалена из списков всех книг, однако сами книги никуда не пропадут.</p>
<p>Если у категории есть подкатегории, в диалоге удаления появятся 3 кнопки -- &laquo;This Only&raquo;, &laquo;With Subtags&laquo; и &laquo;Cancel&raquo;. Если вы выберете первый вариант, удалится только в точности текущая категория (если есть книги, которые к ней относятся). Если же выберете второй, удалятся и все ее подкатегории, и соответствующая ветка из дерева исчезнет.</p>
<p>Например, если у вас есть книги с категорией &laquo;Fiction&raquo; и книги с категорией &laquo;Fiction/Horror&raquo;, то при удалении категории &laquo;Fiction&raquo; вы можете<ul>
	<li>Выбрать вариант&laquo;This Only&raquo;.</li> 
	<p>В этом случае категория &laquo;Fiction&raquo; исчезенет из списков тех книг, к которым она относилась, а категория &laquo;Fiction/Horror&raquo; останется во всех списках. Соответственно, в дереве останутся обе категории, но в первой не будет ни одной книги.
	<li>Выбрать вариант&laquo;With Subtags&raquo;.</li> 
	<p>В этом случае обе категории &laquo;Fiction&raquo; и &laquo;Fiction/Horror&raquo; исчезенут из списков тех книг, к которым они относились, и все поддерево, начинавшееся с категории &laquo;Fiction&raquo; исчезнет с экрана.</p>
</ul></p>

</body>
</html>
